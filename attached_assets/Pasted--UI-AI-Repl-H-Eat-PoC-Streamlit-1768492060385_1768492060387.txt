너는 모바일 웹 UI에 강한 대한민국 최고 수준의 풀스택 AI 에이전트다.
새 Repl에서 H-Eat PoC를 "처음부터" 완성도 높게 구현한다.
이번 버전은 Streamlit이 아니라 UI 제작 최적화 스택(React/Next.js/Tailwind)로 간다.
또한, 제공된 CSV 더미 데이터(waiting_1min_KST_2026-01-15.csv)를 실제 앱이 읽어서 사용해야 한다.
목표는 '모바일에서 깔끔하고 직관적인 카드형 UI' + '상세 페이지' + '결제 시뮬/주문권/QR' + '실시간/시뮬 시간 모드 + 시연 가속'을 모두 문제 없이 구현하는 것이다.

========================
0) 기술 스택(필수)
========================
- Next.js (App Router) + React + TypeScript
- Tailwind CSS
- (선택) shadcn/ui 사용 가능. 단, 과하게 복잡하게 만들지 말고 모바일 UX를 최우선.
- 데이터 접근은 "프론트는 JSON만" 사용하도록 하며,
  CSV 파싱은 Next.js API Route에서 수행한다.

========================
1) 필수 파일/폴더 생성
========================
- /app/page.tsx                               (메인: 식당 섹션 스크롤 리스트)
- /app/restaurant/[restaurantId]/corner/[cornerId]/page.tsx  (상세 페이지)
- /app/ticket/page.tsx                        (주문권/QR 페이지)
- /app/api/waiting/route.ts                   (CSV→JSON 변환 + 시각별 데이터 제공)
- /app/api/menu/route.ts                      (menu.json 제공)
- /lib/types.ts                               (공통 타입)
- /lib/utils.ts                               (시간/포맷/혼잡도 함수)
- /components/TimeControls.tsx
- /components/RestaurantSection.tsx
- /components/CornerCard.tsx
- /components/CongestionBar.tsx
- /components/InfoPopover.tsx
- /components/TicketQR.tsx
- /data/menu.json
- /data/waiting_1min_KST_2026-01-15.csv   (반드시 프로젝트에 포함. 사용자가 업로드/추가한다고 가정하고, 없으면 안내 메시지 출력)

========================
2) CSV 데이터 사용(핵심)
========================
CSV 파일 스키마(컬럼명 고정):
- timestamp (ISO string, +09:00 포함)
- restaurantId (hanyang_plaza | materials | life_science)
- cornerId (western | korean | instant | ramen | set_meal | single_dish | dam_a | pangeos)
- queue_len (int)   // AI 카메라가 수집한 줄 길이(대기열)
- est_wait_time_min (int) // PoC용 추정 대기시간(0~20)

요구:
- /api/waiting는 이 CSV를 서버에서 읽어 JSON으로 변환한다.
- 메인 화면은 /api/waiting를 호출해 "현재 displayTime(분 단위로 반올림/내림)"에 가장 가까운 timestamp row들을 받아 렌더링한다.
- displayTime은 KST 기준.
- CSV는 1분 단위로 되어 있으니, 슬라이더도 기본은 1분 단위로 움직이게 한다(사용성 위해 5분 점프 버튼 추가 가능).

추가:
- CSV가 프로젝트에 없을 때는 앱이 깨지지 말고 "데이터 파일을 /data/ 에 추가하세요" 안내를 보여주도록 한다.

========================
3) 시간 모드/시연 가속(확정)
========================
- 기본 모드: realtime (KST의 실제 현재 시간 기반)
- 사용자가 슬라이더를 건드리면 sim 모드로 전환되고 displayTime은 슬라이더 값으로 고정
- "실시간으로 돌아가기" 버튼 제공(=realtime 모드)
- 재생/일시정지 제공(autoplay)
- 시연 가속 토글 제공:
  - OFF: 실시간 간격으로 진행(다음 분/다음 timestamp에 맞추는 개념)
  - ON: 데모 속도. 예) "1분 스텝 = 2초"로 진행 (즉 5분은 10초 느낌)
- 중요한 분리:
  - "대기 데이터 시간(displayTime)"은 위 모드/재생에 의해 움직임
  - "QR 유효시간"은 displayTime과 무관하게 실제 시간(Date.now) 기준으로 감소해야 함

========================
4) UI/레이아웃(모바일 우선, 스케치 기반)
========================
[전반 스타일]
- 한양대 느낌: 블루 포인트 + 화이트/그레이 기반
- 너무 화려하지 않게, 가독성 최우선
- 카드 높이는 컴팩트(상세 정보는 상세 페이지에서)

[메인 화면 /app/page.tsx]
1) 상단 바:
- 날짜 표시 + 좌/우 화살표(날짜 이동은 PoC에선 고정 가능하나 UI는 존재)
2) 시간 컨트롤:
- 현재 모드(realtime/sim) 표시
- 슬라이더(1분 단위)
- 재생/일시정지 버튼
- 시연 가속 토글(ON/OFF)
- 실시간으로 돌아가기 버튼
3) 식당 섹션은 A 방식: 아래로 스크롤하며 나열
- 식당 헤더: 식당명 + 버튼 2개 [위치] [운영시간]
  - 두 버튼은 "거의 붙어있게" 간격 최소
  - popover/modal로 정보 표시(InfoPopover 컴포넌트)
4) 식당 내 코너 카드 리스트(코너 순서 고정, 아래 6번 참조)
- 코너 카드(CornerCard) 구성:
  - 좌측 상단: 코너명 라벨 pill(가로 글씨, 세로/회전 금지)
  - 중앙 좌측: 메인 메뉴명(크게)
  - 우측: 혼잡도 5단계 가로 막대바 + 라벨 텍스트(매우여유~매우혼잡)
  - 하단: "예상 대기시간: n분"
- 카드 클릭 시 상세 페이지로 이동

[상세 화면 /restaurant/[restaurantId]/corner/[cornerId]]
- 상단: 뒤로가기
- 대기정보: 예상 대기시간 n분 + 혼잡도 바 + 라벨 + (여기에서만) 대기인원(queue_len) 표시
- 메뉴 카드:
  - 좌측: 정사각형 이미지 placeholder(회색 박스 + "사진" 텍스트)
  - 우측: 메뉴명, 가격(이모지 없이 '3,500원'), 구성 리스트
- 하단: 결제하기(시뮬) 버튼 → 주문권 생성 후 /ticket으로 이동

[주문권 화면 /ticket]
- 주문권 1개만 유지(1인 1주문권)
- 상태:
  - stored(보관, QR 없음)
  - active(활성화, QR 있음 + 30분 타이머)
  - used(사용 완료)
  - expired(만료)
- 흐름:
  - 결제 완료 시 stored 생성
  - "수령 시작(활성화)" 누르면 active 전환 + QR 생성 + 30분 카운트다운 시작
  - QR은 검정색(black)이어야 함
  - QR 아래 남은 시간은 실제 시간 기준으로 매초 감소(React interval)
  - 만료 시 expired 처리
  - "사용 완료" 버튼 제공

========================
5) 혼잡도 5단계 기준 + 색상(필수)
========================
혼잡도는 est_wait_time_min으로 계산:
- 매우여유: 0–1분
- 여유: 2–3분
- 보통: 4–6분
- 혼잡: 7–12분
- 매우혼잡: 13분 이상

시각화(요구 반영):
- 5단계 가로 막대바(CongestionBar)는 5칸.
- 색상 그라데이션:
  1단계: 초록색
  3단계: 노란색
  5단계: 빨간색
  2단계/4단계는 그 사이 중간색(연두/주황 계열)로 자연스럽게 연결
- 선택된 단계까지 채우고, 나머지는 연회색.
- 막대 옆(또는 아래)에 라벨 텍스트 표시.

========================
6) 코너 노출 순서 고정(필수)
========================
식당별 코너 출력 순서는 반드시 아래대로:
- hanyang_plaza: western → korean → instant → ramen
- life_science: dam_a → pangeos
- materials: set_meal → single_dish

========================
7) 메뉴 데이터(menu.json) + 라벨 매핑
========================
menu.json에 아래를 저장하고 API로 제공:
- restaurantId / cornerId별로:
  - cornerDisplayName (양식/한식/즉석/라면/정식/일품/Dam-A/Pangeos)
  - mainMenuName
  - priceWon (number)
  - items (string array)

확정 메뉴:
한양플라자:
- western(양식): 치즈돈까스, 4200, []
- korean(한식): 소고기우거지탕, 4200, [바싹불고기, 도토리묵무침, 깍두기]
- instant(즉석): 순살닭한마리, 4500, [바싹불고기, 도토리묵무침, 깍두기]
- ramen(라면): 차돌숙주라면, 3500, ["토핑 선택(옵션): 계란/치즈/떡"]
신소재:
- set_meal(정식): 부대찌개(라면사리), 6000, [흑미밥, 야채춘권*칠리소스, 메추리알곤약조림, 고들빼기무침, 배추김치]
- single_dish(일품): 탄탄면, 6500, [참치김가루주먹밥, 핫도그*케찹, 콘샐러드, 단무지무침, 배추김치, 마카로니과자]
생활과학관:
- dam_a(Dam-A): 철판)언양식불고기&파채, 6000, [미역국, 어묵야채볶음, 콩나물무침, 깍두기, 잡곡밥]
- pangeos(Pangeos): 돈가스&매운소스, 6500, [어묵우동, 추가밥, 웨지감자튀김&케찹, 단무지무침, 요구르트, 포기김치]

가격 표기는 항상 "3,500원" 형태(천 단위 콤마), 돈주머니 이모지 절대 사용 금지.

========================
8) 위치/운영시간 버튼 정보(필수)
========================
위치/운영시간 버튼을 누르면 아래 텍스트를 깨끗하게 표시(취소선/줄긋기 금지).

[한양플라자(학생식당)]
- 위치: 학생복지관(한양플라자) 3층
- 운영시간:
  평일(방학 중 12/23~2/27)
  천원의 아침밥 08:20~10:20
  중식 11:00~14:30
  Break Time 14:30~16:00
  석식 16:00~18:00
  라면 12:00~18:00
  Break Time 14:30~15:30
  홀 운영 08:00~22:00
  토요일: 중식 10:00~14:00 / 라면 10:00~18:00
  일요일/공휴일 운영 없음
  문의 02-2220-1883

[신소재공학관]
- 위치: 신소재공학관 7층
- 운영시간:
  평일: 중식 11:30~13:30 / 석식 17:00~18:30
  토요일: 중식 11:30~13:30
  일요일/공휴일 운영 없음
  문의 070-4773-4161

[생활과학관]
- 위치: 생활과학관 7층
- 운영시간:
  평일: 중식 11:30~14:00 / 석식 17:00~18:30
  토요일: 중식 11:30~13:30
  일요일/공휴일 운영 없음
  문의 02-2298-8797

========================
9) QR 생성 구현(필수)
========================
- qrcode 생성은 라이브러리 사용(프론트에서 생성 or 서버에서 생성 둘 다 가능)
- QR 색상은 fill black/back white 고정
- payload는 ticketId/restaurantId/cornerId/createdAt/nonce 등을 포함한 JSON string
- QR 아래 카운트다운은 실제 시간 기준으로 매초 갱신

========================
10) 완성 기준(검증)
========================
- CSV를 읽어 displayTime에 맞는 데이터를 렌더링하는가?
- 코너 순서가 고정되는가?
- 메인 카드가 컴팩트하고 스케치 구조(코너 라벨 좌상단, 메뉴명 크게, 우측 바, 하단 대기시간)인가?
- 혼잡 바 색상 1=초록, 3=노랑, 5=빨강이며 2/4는 중간색인가?
- 상세 페이지에서만 대기인원 표시되고, 가격 앞 이모지 없는가?
- 위치/운영시간 버튼이 붙어있고 텍스트에 취소선이 없는가?
- 결제→주문권→활성화→QR 발급→30분 카운트다운이 실제 시간으로 감소하는가?
- 시연 가속 토글이 정상 동작하는가(데이터 표시 시간만 빠르게, QR 타이머는 실제 시간 유지)?

위 요구사항을 모두 충족하는 실행 가능한 앱을 생성하고, 필요한 파일을 전부 작성하라.
